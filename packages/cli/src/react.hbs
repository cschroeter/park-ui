import * as Ark from '@ark-ui/react/{{key}}'
import { {{camelCase key}}, type {{rootComponent}}VariantProps } from 'styled-system/recipes'
import { createStyleContext } from '~/lib/create-style-context'

const { withProvider, withContext } = createStyleContext({{camelCase key}})

{{#each components}}
{{#if (eq @key "Root")}}
export type {{../rootComponent}}Props = Ark.{{../rootComponent}}Props & {{../rootComponent}}VariantProps
const {{this.name}} = withProvider(Ark.{{../rootComponent}}.{{@key}}{{#if this.partName}}, '{{this.partName}}'{{/if}})
{{else}}
const {{this.name}} = withContext(Ark.{{../rootComponent}}.{{@key}}{{#if this.partName}}, '{{this.partName}}'{{/if}})
{{/if}}
{{/each}}

const {{rootComponent}} = Object.assign({{rootComponent}}Root, {
{{#each components}}
  {{@key}}: {{this.name}},
{{/each}}
})

export {
  {{rootComponent}},
  {{#each components}}
  {{this.name}},
  {{/each}}
}
