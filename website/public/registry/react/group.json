{
  "$schema": "https://next.park-ui.com/schema/registry-item.json",
  "name": "group",
  "type": "registry:ui",
  "dependencies": ["@ark-ui/react", "react"],
  "files": [
    {
      "content": "import { ark } from '@ark-ui/react'\nimport {\n  Children,\n  type ComponentProps,\n  type CSSProperties,\n  cloneElement,\n  forwardRef,\n  isValidElement,\n  memo,\n  type ReactElement,\n  useMemo,\n} from 'react'\nimport { styled } from 'styled-system/jsx'\nimport { group } from 'styled-system/recipes'\n\ntype StyledGroupProps = ComponentProps<typeof StyledGroup>\nconst StyledGroup = styled(ark.div, group)\n\nexport interface GroupProps extends StyledGroupProps {\n  /**\n   * The `alignItems` style property\n   */\n  align?: StyledGroupProps['alignItems'] | undefined\n  /**\n   * The `justifyContent` style property\n   */\n  justify?: StyledGroupProps['justifyContent'] | undefined\n  /**\n   * The `flexWrap` style property\n   */\n  wrap?: StyledGroupProps['flexWrap'] | undefined\n  /**\n   * A function that determines if a child should be skipped\n   */\n  skip?: (child: ReactElement) => boolean | undefined\n}\n\nexport const Group = memo(\n  forwardRef<HTMLDivElement, GroupProps>(function Group(props, ref) {\n    const { align = 'center', justify = 'flex-start', children, wrap, skip, ...rest } = props\n\n    const enhancedChildren = useMemo(() => {\n      // Convert children to array and filter out invalid elements\n      const childArray = Children.toArray(children).filter(isValidElement)\n\n      // If only one child, no need for group enhancements\n      if (childArray.length === 1) {\n        return childArray\n      }\n\n      // Filter out skipped children to get valid children for indexing\n      const validChildren = childArray.filter((child) => !skip?.(child))\n\n      // If only one valid child after filtering, return original array\n      if (validChildren.length === 1) {\n        return childArray\n      }\n\n      // Enhance each child with group data attributes\n      return childArray.map((child) => {\n        // Skip enhancement for children that should be skipped\n        if (skip?.(child)) {\n          return child\n        }\n\n        const childProps = child.props as Record<string, unknown> & {\n          style?: CSSProperties\n        }\n\n        const indexInValidChildren = validChildren.indexOf(child)\n\n        const enhancedProps: Record<string, unknown> = {\n          ...childProps,\n          'data-group-item': '',\n          'data-first': dataAttr(indexInValidChildren === 0),\n          'data-last': dataAttr(indexInValidChildren === validChildren.length - 1),\n          'data-between': dataAttr(\n            indexInValidChildren > 0 && indexInValidChildren < validChildren.length - 1,\n          ),\n          style: {\n            '--group-count': validChildren.length,\n            '--group-index': indexInValidChildren,\n            ...(childProps?.style ?? {}),\n          } as CSSProperties & {\n            '--group-count': number\n            '--group-index': number\n          },\n        }\n\n        return cloneElement(child, enhancedProps)\n      })\n    }, [children, skip])\n\n    return (\n      <StyledGroup ref={ref} alignItems={align} justifyContent={justify} flexWrap={wrap} {...rest}>\n        {enhancedChildren}\n      </StyledGroup>\n    )\n  }),\n)\n\ntype Booleanish = boolean | 'true' | 'false'\n\nconst dataAttr = (condition: boolean | undefined): Booleanish =>\n  (condition ? '' : undefined) as Booleanish\n",
      "type": "registry:ui",
      "path": "group.tsx",
      "exports": "export { Group, type GroupProps } from './group'"
    }
  ],
  "registryDependencies": ["group-recipe"]
}
