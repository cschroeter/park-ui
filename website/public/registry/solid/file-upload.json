{
  "$schema": "https://park-ui.com/schema/registry-item.json",
  "name": "file-upload",
  "type": "registry:ui",
  "dependencies": ["@ark-ui/solid", "lucide-solid", "solid-js", "@/components"],
  "files": [
    {
      "content": "import { FileUpload, useFileUploadContext } from '@ark-ui/solid/file-upload'\nimport { FileIcon, XIcon } from 'lucide-solid'\nimport { type ComponentProps, createMemo, For, Show, splitProps } from 'solid-js'\nimport { createStyleContext, type HTMLStyledProps, Stack } from 'styled-system/jsx'\nimport { fileUpload } from 'styled-system/recipes'\nimport { Span } from '@/components/ui'\n\nconst { withProvider, withContext } = createStyleContext(fileUpload)\n\nexport type RootProps = ComponentProps<typeof Root>\nexport type ItemProps = ComponentProps<typeof Item>\n\nexport const Root = withProvider(FileUpload.Root, 'root')\nexport const RootProvider = withProvider(FileUpload.RootProvider, 'root')\nexport const ClearTrigger = withContext(FileUpload.ClearTrigger, 'clearTrigger')\nexport const Dropzone = withContext(FileUpload.Dropzone, 'dropzone')\nexport const HiddenInput = FileUpload.HiddenInput\nexport const Item = withContext(FileUpload.Item, 'item')\nexport const ItemDeleteTrigger = withContext(FileUpload.ItemDeleteTrigger, 'itemDeleteTrigger', {\n  defaultProps: () => ({ children: <XIcon /> }),\n})\nexport const ItemGroup = withContext(FileUpload.ItemGroup, 'itemGroup')\nexport const ItemName = withContext(FileUpload.ItemName, 'itemName')\nexport const ItemPreview = withContext(FileUpload.ItemPreview, 'itemPreview', {\n  defaultProps: () => ({ children: <FileIcon /> }),\n})\nexport const ItemPreviewImage = withContext(FileUpload.ItemPreviewImage, 'itemPreviewImage')\nexport const ItemSizeText = withContext(FileUpload.ItemSizeText, 'itemSizeText')\nexport const Label = withContext(FileUpload.Label, 'label')\nexport const Trigger = withContext(FileUpload.Trigger, 'trigger')\n\nexport { FileUploadContext as Context } from '@ark-ui/solid/file-upload'\n\ninterface ItemsBaseProps {\n  showSize?: boolean | undefined\n  clearable?: boolean | undefined\n  files?: File[] | undefined\n}\n\ninterface ItemsProps extends Omit<ItemProps, 'file'>, ItemsBaseProps {}\n\nexport const Items = (props: ItemsProps) => {\n  const [local, rest] = splitProps(props, ['showSize', 'clearable', 'files'])\n  const fileUpload = useFileUploadContext()\n  const acceptedFiles = () => local.files ?? fileUpload().acceptedFiles\n\n  return (\n    <For each={acceptedFiles()}>\n      {(file) => (\n        <Item file={file} {...rest}>\n          <ItemPreview />\n          <Stack gap=\"0.5\" flex=\"1\">\n            <ItemName />\n            <Show when={local.showSize}>\n              <ItemSizeText />\n            </Show>\n          </Stack>\n\n          <Show when={local.clearable}>\n            <ItemDeleteTrigger />\n          </Show>\n        </Item>\n      )}\n    </For>\n  )\n}\n\ninterface FileUploadListProps extends ItemsBaseProps {}\n\nexport const List = (props: FileUploadListProps) => {\n  const [local, rest] = splitProps(props, ['showSize', 'clearable', 'files'])\n\n  return (\n    <ItemGroup {...rest}>\n      <Items showSize={local.showSize} clearable={local.clearable} files={local.files} />\n    </ItemGroup>\n  )\n}\n\nexport interface FileTextProps extends HTMLStyledProps<'span'> {\n  fallback?: string | undefined\n}\n\nexport const FileText = (props: FileTextProps) => {\n  const [local, rest] = splitProps(props, ['fallback'])\n  const fallback = () => local.fallback ?? 'Select file(s)'\n\n  const fileUpload = useFileUploadContext()\n  const acceptedFiles = () => fileUpload().acceptedFiles\n\n  const fileText = createMemo(() => {\n    const files = acceptedFiles()\n    if (files.length === 1) {\n      return files[0].name\n    }\n    if (files.length > 1) {\n      return `${files.length} files`\n    }\n    return fallback()\n  })\n\n  return (\n    <Span\n      data-placeholder={fileText() === fallback() ? '' : undefined}\n      data-scope=\"file-upload\"\n      data-part=\"file-text\"\n      {...rest}\n    >\n      {fileText()}\n    </Span>\n  )\n}\n",
      "type": "registry:ui",
      "path": "file-upload.tsx"
    }
  ],
  "registryDependencies": ["file-upload-recipe"]
}
