---
import { type AccentColor, type GrayColor } from '@park-ui/panda-preset'
import { Box, Grid, Stack } from 'styled-system/jsx'
import { token } from 'styled-system/tokens/index.mjs'
import { Text } from '~/components/ui'

interface Props {
  color: GrayColor | AccentColor
  withLegend?: boolean
}

const { color, withLegend } = Astro.props
---

<Grid className="not-prose" columns={{ base: 6, sm: 12 }} gap="1">
  {
    Array.from({ length: 12 }, (_, i) => i + 1).map((shade) => (
      <Stack gap="1">
        <Box
          width="full"
          maxH="12"
          borderRadius="l2"
          boxShadow="xs"
          aspectRatio={1}
          style={{
            background: token.var(`colors.${color}.${shade}`),
          }}
        />
        {withLegend && (
          <Text textStyle="xs" textAlign="center">
            {shade}
          </Text>
        )}
      </Stack>
    ))
  }
</Grid>
